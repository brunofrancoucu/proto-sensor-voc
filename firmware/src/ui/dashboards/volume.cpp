#include "ui/dashboards.h"
// Internal
#include "core/state.h"
#include "ui/molecules.h"
#include "ui/buzzer.h"

static const unsigned char PROGMEM image_volume_0[] = {0x00,0x00,0x00,0x00,0x01,0x00,0x03,0xf0,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0xff,0x00,0x33,0x00,0x30,0xff,0x00,0x33,0x00,0x30,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0x33,0x00,0xc0,0x00,0x30,0x33,0x00,0xc0,0x00,0x30,0x0c,0x00,0xc0,0x00,0x30,0x0c,0x00,0xc0,0x00,0x30,0x33,0x00,0xc0,0x00,0x30,0x33,0x00,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0xc0,0xc0,0xff,0x00,0x33,0x00,0x30,0xff,0x00,0x33,0x00,0x30,0x00,0xc0,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
static const unsigned char PROGMEM image_volume_1[] = {0x00,0x03,0xf0,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0xff,0x00,0x33,0x00,0x00,0xff,0x00,0x33,0x00,0x00,0xc0,0x00,0x30,0xc0,0x00,0xc0,0x00,0x30,0xc0,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0x30,0x00,0xc0,0x00,0x30,0xc0,0x00,0xc0,0x00,0x30,0xc0,0x00,0xff,0x00,0x33,0x00,0x00,0xff,0x00,0x33,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0x00,0xc0,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
static const unsigned char PROGMEM image_volume_2[] = {0x00,0x03,0xf0,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x30,0x30,0x0c,0x00,0x00,0x30,0x30,0x0c,0x00,0x00,0xc0,0x30,0x03,0x00,0x00,0xc0,0x30,0x03,0x00,0xff,0x00,0x33,0x00,0xc0,0xff,0x00,0x33,0x00,0xc0,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0x30,0x30,0xc0,0x00,0x30,0xc0,0xc0,0xc0,0x00,0x30,0xc0,0xc0,0xff,0x00,0x33,0x00,0xc0,0xff,0x00,0x33,0x00,0xc0,0x00,0xc0,0x30,0x03,0x00,0x00,0xc0,0x30,0x03,0x00,0x00,0x30,0x30,0x0c,0x00,0x00,0x30,0x30,0x0c,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x0c,0x30,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x03,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
static const unsigned char PROGMEM image_volume_3[] = {0x00,0x03,0xf0,0x03,0x00,0x00,0x03,0xf0,0x03,0x00,0x00,0x0c,0x30,0x00,0xc0,0x00,0x0c,0x30,0x00,0xc0,0x00,0x30,0x30,0x30,0x30,0x00,0x30,0x30,0x30,0x30,0x00,0xc0,0x30,0x0c,0x0c,0x00,0xc0,0x30,0x0c,0x0c,0xff,0x00,0x33,0x03,0x0c,0xff,0x00,0x33,0x03,0x0c,0xc0,0x00,0x30,0xc3,0x03,0xc0,0x00,0x30,0xc3,0x03,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0x30,0xc3,0xc0,0x00,0x30,0xc3,0x03,0xc0,0x00,0x30,0xc3,0x03,0xff,0x00,0x33,0x03,0x0c,0xff,0x00,0x33,0x03,0x0c,0x00,0xc0,0x30,0x0c,0x0c,0x00,0xc0,0x30,0x0c,0x0c,0x00,0x30,0x30,0x30,0x30,0x00,0x30,0x30,0x30,0x30,0x00,0x0c,0x30,0x00,0xc0,0x00,0x0c,0x30,0x00,0xc0,0x00,0x03,0xf0,0x03,0x00,0x00,0x03,0xf0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};

static const std::vector<const unsigned char*> vol_icon = {
    image_volume_0,
    image_volume_1,
    image_volume_2,
    image_volume_3
};

static auto& oled = state.display.oled;

void volume::paint() {
    static int volLast = -1; // value
    static int volIconId = -1; // map()

    // volume
    if (volLast != state.system.volume) {
        volLast = state.system.volume;
        volIconId = map(state.system.volume, 0, 100, 0, 3);
    }

    paintSetting(vol_icon[volIconId], String(state.system.volume) + " %", 1.25);
}