#include "ui/instances.h"
#include "ui/atomic.h"
#include "core/state.h"


static const unsigned char PROGMEM image_weather_windsock_co_bits[] = {0x80,0x00,0xcf,0x00,0xb6,0xf0,0xab,0x68,0xab,0x68,0x97,0xf0,0x9c,0x00,0xa0,0x00,0xc0,0x00,0x80,0x70,0x80,0x50,0x8d,0xb0,0x8a,0xf0,0x8a,0xc0,0x0f,0xc0};
static const unsigned char PROGMEM image_weather_windsock_et_bits[] = {0x80,0x00,0xcf,0x00,0xb6,0xf0,0xab,0x68,0xab,0x68,0x97,0xf0,0x9c,0x00,0xa0,0x00,0xc0,0x00,0x80,0x00,0x80,0x00,0x8d,0xf0,0x88,0x40,0x8c,0x40,0x0e,0x40};
static const unsigned char PROGMEM image_Dehumidify_hvr_bits[] = {0x3f,0xe0,0x7f,0xf0,0xff,0xf8,0xfd,0xf8,0xfd,0xf8,0xf8,0xf8,0xf8,0xf8,0xf0,0x78,0xf0,0x78,0xf0,0x78,0xfc,0xf8,0xff,0xf8,0x7f,0xf0,0x3f,0xe0};
static const unsigned char PROGMEM image_weather_temperature_bits[] = {0x1c,0x00,0x22,0x02,0x2b,0x05,0x2a,0x02,0x2b,0x38,0x2a,0x60,0x2b,0x40,0x2a,0x40,0x2a,0x60,0x49,0x38,0x9c,0x80,0xae,0x80,0xbe,0x80,0x9c,0x80,0x41,0x00,0x3e,0x00};

SensorsView sensorsView;

void SensorsView::paint() {
    paintStatBox(image_weather_windsock_co_bits, String(state.air.mq135, 0), 8, 16);
    paintStatBox(image_weather_windsock_et_bits, String(state.air.mq2, 0), SSD_WIDTH/2, 16);
    
    paintStatBox(image_Dehumidify_hvr_bits, String(state.air.hum,0)+" %", 8, 16 + 14 + 4);
    paintStatBox(image_weather_temperature_bits, String(state.air.temp,1)+" C", SSD_WIDTH/2, 16 + 14 + 4);
}

void SensorsView::onInput(Button& button) {
    // No specific actions needed on entering the sensors view
    state.display.navTo(&menuView);
}